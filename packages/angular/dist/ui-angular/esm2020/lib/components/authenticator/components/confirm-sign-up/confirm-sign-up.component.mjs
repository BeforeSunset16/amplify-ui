import { Component, HostBinding } from '@angular/core';
import { getFormDataFromEvent, authenticatorTextUtil, } from '@aws-amplify/ui';
import * as i0 from "@angular/core";
import * as i1 from "../../../../services/authenticator.service";
import * as i2 from "@angular/common";
import * as i3 from "../../../../utilities/amplify-slot/amplify-slot.component";
import * as i4 from "../base-form-fields/base-form-fields.component";
import * as i5 from "../../../../primitives/button/button.component";
import * as i6 from "../../../../primitives/error/error.component";
const { getResendCodeText, getConfirmText, getDeliveryMethodText, getDeliveryMessageText, } = authenticatorTextUtil;
export class ConfirmSignUpComponent {
    constructor(authenticator) {
        this.authenticator = authenticator;
        this.dataAttr = '';
        // translated texts
        this.resendCodeText = getResendCodeText();
        this.confirmText = getConfirmText();
    }
    get context() {
        return this.authenticator.slotContext;
    }
    get confirmSignUpHeading() {
        const { codeDeliveryDetails } = this.authenticator;
        return getDeliveryMethodText(codeDeliveryDetails);
    }
    get subtitleText() {
        const { codeDeliveryDetails } = this.authenticator;
        return getDeliveryMessageText(codeDeliveryDetails);
    }
    onInput(event) {
        event.preventDefault();
        const { name, value } = event.target;
        this.authenticator.updateForm({ name, value });
    }
    onSubmit(event) {
        event.preventDefault();
        this.authenticator.submitForm(getFormDataFromEvent(event));
    }
}
ConfirmSignUpComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: ConfirmSignUpComponent, deps: [{ token: i1.AuthenticatorService }], target: i0.ɵɵFactoryTarget.Component });
ConfirmSignUpComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.3.0", type: ConfirmSignUpComponent, selector: "amplify-confirm-sign-up", host: { properties: { "attr.data-amplify-authenticator-confirmsignup": "this.dataAttr" } }, ngImport: i0, template: "<ng-container>\n  <form data-amplify-form (submit)=\"onSubmit($event)\" (input)=\"onInput($event)\">\n    <fieldset\n      class=\"amplify-flex amplify-authenticator__column\"\n      data-amplify-fieldset\n      [disabled]=\"context.isPending\"\n    >\n      <amplify-slot name=\"confirm-sign-up-header\" [context]=\"context\">\n        <h3\n          class=\"amplify-heading amplify-authenticator__heading\"\n          style=\"font-size: 1.5rem\"\n        >\n          {{ confirmSignUpHeading }}\n        </h3>\n      </amplify-slot>\n      <span class=\"amplify-authenticator__subtitle\">\n        {{ subtitleText }}\n      </span>\n      <amplify-base-form-fields\n        route=\"confirmSignUp\"\n      ></amplify-base-form-fields>\n\n      <button\n        amplify-button\n        variation=\"primary\"\n        fullWidth=\"true\"\n        type=\"submit\"\n        [isDisabled]=\"authenticator.isPending\"\n      >\n        {{ confirmText }}\n      </button>\n      <button\n        amplify-button\n        fontWeight=\"normal\"\n        (click)=\"authenticator.resendCode()\"\n      >\n        {{ resendCodeText }}\n      </button>\n    </fieldset>\n\n    <amplify-error *ngIf=\"context.error\">\n      {{ authenticator.error }}\n    </amplify-error>\n    <amplify-slot\n      name=\"confirm-sign-up-footer\"\n      [context]=\"context\"\n    ></amplify-slot>\n  </form>\n</ng-container>\n", dependencies: [{ kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i3.AmplifySlotComponent, selector: "amplify-slot", inputs: ["name", "context"] }, { kind: "component", type: i4.BaseFormFieldsComponent, selector: "amplify-base-form-fields", inputs: ["route"] }, { kind: "component", type: i5.ButtonComponent, selector: "button[amplify-button]", inputs: ["type", "fullWidth", "isDisabled", "size", "variation", "fontWeight"] }, { kind: "component", type: i6.ErrorComponent, selector: "amplify-error" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.3.0", ngImport: i0, type: ConfirmSignUpComponent, decorators: [{
            type: Component,
            args: [{ selector: 'amplify-confirm-sign-up', template: "<ng-container>\n  <form data-amplify-form (submit)=\"onSubmit($event)\" (input)=\"onInput($event)\">\n    <fieldset\n      class=\"amplify-flex amplify-authenticator__column\"\n      data-amplify-fieldset\n      [disabled]=\"context.isPending\"\n    >\n      <amplify-slot name=\"confirm-sign-up-header\" [context]=\"context\">\n        <h3\n          class=\"amplify-heading amplify-authenticator__heading\"\n          style=\"font-size: 1.5rem\"\n        >\n          {{ confirmSignUpHeading }}\n        </h3>\n      </amplify-slot>\n      <span class=\"amplify-authenticator__subtitle\">\n        {{ subtitleText }}\n      </span>\n      <amplify-base-form-fields\n        route=\"confirmSignUp\"\n      ></amplify-base-form-fields>\n\n      <button\n        amplify-button\n        variation=\"primary\"\n        fullWidth=\"true\"\n        type=\"submit\"\n        [isDisabled]=\"authenticator.isPending\"\n      >\n        {{ confirmText }}\n      </button>\n      <button\n        amplify-button\n        fontWeight=\"normal\"\n        (click)=\"authenticator.resendCode()\"\n      >\n        {{ resendCodeText }}\n      </button>\n    </fieldset>\n\n    <amplify-error *ngIf=\"context.error\">\n      {{ authenticator.error }}\n    </amplify-error>\n    <amplify-slot\n      name=\"confirm-sign-up-footer\"\n      [context]=\"context\"\n    ></amplify-slot>\n  </form>\n</ng-container>\n" }]
        }], ctorParameters: function () { return [{ type: i1.AuthenticatorService }]; }, propDecorators: { dataAttr: [{
                type: HostBinding,
                args: ['attr.data-amplify-authenticator-confirmsignup']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlybS1zaWduLXVwLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpLWFuZ3VsYXIvc3JjL2xpYi9jb21wb25lbnRzL2F1dGhlbnRpY2F0b3IvY29tcG9uZW50cy9jb25maXJtLXNpZ24tdXAvY29uZmlybS1zaWduLXVwLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3VpLWFuZ3VsYXIvc3JjL2xpYi9jb21wb25lbnRzL2F1dGhlbnRpY2F0b3IvY29tcG9uZW50cy9jb25maXJtLXNpZ24tdXAvY29uZmlybS1zaWduLXVwLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXZELE9BQU8sRUFFTCxvQkFBb0IsRUFDcEIscUJBQXFCLEdBQ3RCLE1BQU0saUJBQWlCLENBQUM7Ozs7Ozs7O0FBRXpCLE1BQU0sRUFDSixpQkFBaUIsRUFDakIsY0FBYyxFQUNkLHFCQUFxQixFQUNyQixzQkFBc0IsR0FDdkIsR0FBRyxxQkFBcUIsQ0FBQztBQUsxQixNQUFNLE9BQU8sc0JBQXNCO0lBU2pDLFlBQW1CLGFBQW1DO1FBQW5DLGtCQUFhLEdBQWIsYUFBYSxDQUFzQjtRQVJRLGFBQVEsR0FBRyxFQUFFLENBQUM7UUFFNUUsbUJBQW1CO1FBQ1osbUJBQWMsR0FBRyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3JDLGdCQUFXLEdBQUcsY0FBYyxFQUFFLENBQUM7SUFJbUIsQ0FBQztJQUUxRCxJQUFXLE9BQU87UUFDaEIsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQztJQUN4QyxDQUFDO0lBRUQsSUFBVyxvQkFBb0I7UUFDN0IsTUFBTSxFQUFFLG1CQUFtQixFQUFFLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUNuRCxPQUFPLHFCQUFxQixDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVELElBQVcsWUFBWTtRQUNyQixNQUFNLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQ25ELE9BQU8sc0JBQXNCLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRUQsT0FBTyxDQUFDLEtBQVk7UUFDbEIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZCLE1BQU0sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQXFCLEtBQUssQ0FBQyxNQUFNLENBQUM7UUFDdkQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsUUFBUSxDQUFDLEtBQVk7UUFDbkIsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQzs7bUhBbENVLHNCQUFzQjt1R0FBdEIsc0JBQXNCLDJKQ2xCbkMscTNDQWlEQTsyRkQvQmEsc0JBQXNCO2tCQUpsQyxTQUFTOytCQUNFLHlCQUF5QjsyR0FJMkIsUUFBUTtzQkFBckUsV0FBVzt1QkFBQywrQ0FBK0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEhvc3RCaW5kaW5nIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBdXRoZW50aWNhdG9yU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NlcnZpY2VzL2F1dGhlbnRpY2F0b3Iuc2VydmljZSc7XG5pbXBvcnQge1xuICBGb3JtRmllbGRzQXJyYXksXG4gIGdldEZvcm1EYXRhRnJvbUV2ZW50LFxuICBhdXRoZW50aWNhdG9yVGV4dFV0aWwsXG59IGZyb20gJ0Bhd3MtYW1wbGlmeS91aSc7XG5cbmNvbnN0IHtcbiAgZ2V0UmVzZW5kQ29kZVRleHQsXG4gIGdldENvbmZpcm1UZXh0LFxuICBnZXREZWxpdmVyeU1ldGhvZFRleHQsXG4gIGdldERlbGl2ZXJ5TWVzc2FnZVRleHQsXG59ID0gYXV0aGVudGljYXRvclRleHRVdGlsO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1wbGlmeS1jb25maXJtLXNpZ24tdXAnLFxuICB0ZW1wbGF0ZVVybDogJy4vY29uZmlybS1zaWduLXVwLmNvbXBvbmVudC5odG1sJyxcbn0pXG5leHBvcnQgY2xhc3MgQ29uZmlybVNpZ25VcENvbXBvbmVudCB7XG4gIEBIb3N0QmluZGluZygnYXR0ci5kYXRhLWFtcGxpZnktYXV0aGVudGljYXRvci1jb25maXJtc2lnbnVwJykgZGF0YUF0dHIgPSAnJztcblxuICAvLyB0cmFuc2xhdGVkIHRleHRzXG4gIHB1YmxpYyByZXNlbmRDb2RlVGV4dCA9IGdldFJlc2VuZENvZGVUZXh0KCk7XG4gIHB1YmxpYyBjb25maXJtVGV4dCA9IGdldENvbmZpcm1UZXh0KCk7XG5cbiAgcHVibGljIHNvcnRlZEZvcm1GaWVsZHM6IEZvcm1GaWVsZHNBcnJheTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgYXV0aGVudGljYXRvcjogQXV0aGVudGljYXRvclNlcnZpY2UpIHt9XG5cbiAgcHVibGljIGdldCBjb250ZXh0KCk6IEF1dGhlbnRpY2F0b3JTZXJ2aWNlWydzbG90Q29udGV4dCddIHtcbiAgICByZXR1cm4gdGhpcy5hdXRoZW50aWNhdG9yLnNsb3RDb250ZXh0O1xuICB9XG5cbiAgcHVibGljIGdldCBjb25maXJtU2lnblVwSGVhZGluZygpOiBzdHJpbmcge1xuICAgIGNvbnN0IHsgY29kZURlbGl2ZXJ5RGV0YWlscyB9ID0gdGhpcy5hdXRoZW50aWNhdG9yO1xuICAgIHJldHVybiBnZXREZWxpdmVyeU1ldGhvZFRleHQoY29kZURlbGl2ZXJ5RGV0YWlscyk7XG4gIH1cblxuICBwdWJsaWMgZ2V0IHN1YnRpdGxlVGV4dCgpOiBzdHJpbmcge1xuICAgIGNvbnN0IHsgY29kZURlbGl2ZXJ5RGV0YWlscyB9ID0gdGhpcy5hdXRoZW50aWNhdG9yO1xuICAgIHJldHVybiBnZXREZWxpdmVyeU1lc3NhZ2VUZXh0KGNvZGVEZWxpdmVyeURldGFpbHMpO1xuICB9XG5cbiAgb25JbnB1dChldmVudDogRXZlbnQpOiB2b2lkIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUgfSA9IDxIVE1MSW5wdXRFbGVtZW50PmV2ZW50LnRhcmdldDtcbiAgICB0aGlzLmF1dGhlbnRpY2F0b3IudXBkYXRlRm9ybSh7IG5hbWUsIHZhbHVlIH0pO1xuICB9XG5cbiAgb25TdWJtaXQoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmF1dGhlbnRpY2F0b3Iuc3VibWl0Rm9ybShnZXRGb3JtRGF0YUZyb21FdmVudChldmVudCkpO1xuICB9XG59XG4iLCI8bmctY29udGFpbmVyPlxuICA8Zm9ybSBkYXRhLWFtcGxpZnktZm9ybSAoc3VibWl0KT1cIm9uU3VibWl0KCRldmVudClcIiAoaW5wdXQpPVwib25JbnB1dCgkZXZlbnQpXCI+XG4gICAgPGZpZWxkc2V0XG4gICAgICBjbGFzcz1cImFtcGxpZnktZmxleCBhbXBsaWZ5LWF1dGhlbnRpY2F0b3JfX2NvbHVtblwiXG4gICAgICBkYXRhLWFtcGxpZnktZmllbGRzZXRcbiAgICAgIFtkaXNhYmxlZF09XCJjb250ZXh0LmlzUGVuZGluZ1wiXG4gICAgPlxuICAgICAgPGFtcGxpZnktc2xvdCBuYW1lPVwiY29uZmlybS1zaWduLXVwLWhlYWRlclwiIFtjb250ZXh0XT1cImNvbnRleHRcIj5cbiAgICAgICAgPGgzXG4gICAgICAgICAgY2xhc3M9XCJhbXBsaWZ5LWhlYWRpbmcgYW1wbGlmeS1hdXRoZW50aWNhdG9yX19oZWFkaW5nXCJcbiAgICAgICAgICBzdHlsZT1cImZvbnQtc2l6ZTogMS41cmVtXCJcbiAgICAgICAgPlxuICAgICAgICAgIHt7IGNvbmZpcm1TaWduVXBIZWFkaW5nIH19XG4gICAgICAgIDwvaDM+XG4gICAgICA8L2FtcGxpZnktc2xvdD5cbiAgICAgIDxzcGFuIGNsYXNzPVwiYW1wbGlmeS1hdXRoZW50aWNhdG9yX19zdWJ0aXRsZVwiPlxuICAgICAgICB7eyBzdWJ0aXRsZVRleHQgfX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxhbXBsaWZ5LWJhc2UtZm9ybS1maWVsZHNcbiAgICAgICAgcm91dGU9XCJjb25maXJtU2lnblVwXCJcbiAgICAgID48L2FtcGxpZnktYmFzZS1mb3JtLWZpZWxkcz5cblxuICAgICAgPGJ1dHRvblxuICAgICAgICBhbXBsaWZ5LWJ1dHRvblxuICAgICAgICB2YXJpYXRpb249XCJwcmltYXJ5XCJcbiAgICAgICAgZnVsbFdpZHRoPVwidHJ1ZVwiXG4gICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICBbaXNEaXNhYmxlZF09XCJhdXRoZW50aWNhdG9yLmlzUGVuZGluZ1wiXG4gICAgICA+XG4gICAgICAgIHt7IGNvbmZpcm1UZXh0IH19XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgYW1wbGlmeS1idXR0b25cbiAgICAgICAgZm9udFdlaWdodD1cIm5vcm1hbFwiXG4gICAgICAgIChjbGljayk9XCJhdXRoZW50aWNhdG9yLnJlc2VuZENvZGUoKVwiXG4gICAgICA+XG4gICAgICAgIHt7IHJlc2VuZENvZGVUZXh0IH19XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2ZpZWxkc2V0PlxuXG4gICAgPGFtcGxpZnktZXJyb3IgKm5nSWY9XCJjb250ZXh0LmVycm9yXCI+XG4gICAgICB7eyBhdXRoZW50aWNhdG9yLmVycm9yIH19XG4gICAgPC9hbXBsaWZ5LWVycm9yPlxuICAgIDxhbXBsaWZ5LXNsb3RcbiAgICAgIG5hbWU9XCJjb25maXJtLXNpZ24tdXAtZm9vdGVyXCJcbiAgICAgIFtjb250ZXh0XT1cImNvbnRleHRcIlxuICAgID48L2FtcGxpZnktc2xvdD5cbiAgPC9mb3JtPlxuPC9uZy1jb250YWluZXI+XG4iXX0=